{"version":3,"sources":["pages/other/Checkout.js"],"names":["connect","state","cartItems","cartData","currency","currencyData","location","pathname","cartTotalPrice","name","content","to","process","headerTop","className","length","type","id","placeholder","defaultValue","map","cartItem","key","discountedPrice","getDiscountPrice","price","discount","finalProductPrice","currencyRate","toFixed","finalDiscountedPrice","quantity","currencySymbol","onClick","e","firstName","document","getElementById","value","lastName","companyName","adresse","city","phone","mail","notes","totalPrice","products","axios","post","country","then","res","console","log","catch","err","error","alert"],"mappings":"iHACA,oHAoQeA,6BAPS,SAAAC,GACtB,MAAO,CACLC,UAAWD,EAAME,SACjBC,SAAUH,EAAMI,gBAILL,EA1PE,SAAC,GAAuC,IAArCM,EAAoC,EAApCA,SAAUJ,EAA0B,EAA1BA,UAAWE,EAAe,EAAfA,SAC/BG,EAAaD,EAAbC,SACJC,EAAiB,EAsCrB,OACE,kBAAC,WAAD,KACE,kBAAC,IAAD,KACE,kDACA,0BACEC,KAAK,cACLC,QAAQ,gEAGZ,kBAAC,kBAAD,CAAiBC,GAA6B,KAA9C,QACA,kBAAC,kBAAD,CAAiBA,GAAIC,GAAyBL,GAA9C,YAGA,kBAAC,IAAD,CAAWM,UAAU,WAEnB,kBAAC,IAAD,MACA,yBAAKC,UAAU,8BACb,yBAAKA,UAAU,aACZZ,GAAaA,EAAUa,QAAU,EAChC,yBAAKD,UAAU,OACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,qBACb,+CACA,yBAAKA,UAAU,OACb,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,sBACb,6CACA,2BAAOE,KAAK,OAAOC,GAAG,gBAG1B,yBAAKH,UAAU,qBACb,yBAAKA,UAAU,sBACb,4CACA,2BAAOE,KAAK,OAAOC,GAAG,eAG1B,yBAAKH,UAAU,aACb,yBAAKA,UAAU,sBACb,+CACA,2BAAOE,KAAK,OAAOC,GAAG,kBAG1B,yBAAKH,UAAU,aACb,yBAAKA,UAAU,wBACb,0CACA,gCACE,oDACA,8CAIN,yBAAKA,UAAU,aACb,yBAAKA,UAAU,sBACb,iDACA,2BACEA,UAAU,kBACVI,YAAY,+BACZF,KAAK,OACLC,GAAG,cAIT,yBAAKH,UAAU,aACb,yBAAKA,UAAU,sBACb,uCACA,2BAAOE,KAAK,OAAOC,GAAG,WAG1B,yBAAKH,UAAU,qBACb,yBAAKA,UAAU,sBACb,wCACA,2BAAOE,KAAK,OAAOC,GAAG,YAG1B,yBAAKH,UAAU,qBACb,yBAAKA,UAAU,sBACb,gDACA,2BAAOE,KAAK,OAAOC,GAAG,YAK5B,yBAAKH,UAAU,wBACb,sDACA,yBAAKA,UAAU,mBACb,8CACA,8BACEI,YAAY,4DACZT,KAAK,UACLU,aAAc,GACdF,GAAG,cAOb,yBAAKH,UAAU,YACb,yBAAKA,UAAU,mBACb,0CACA,yBAAKA,UAAU,6BACb,yBAAKA,UAAU,2BACb,yBAAKA,UAAU,kBACb,4BACE,uCACA,uCAGJ,yBAAKA,UAAU,qBACb,4BACGZ,EAAUkB,KAAI,SAACC,EAAUC,GACxB,IAAMC,EAAkBC,YACtBH,EAASI,MACTJ,EAASK,UAELC,GACJN,EAASI,MAAQrB,EAASwB,cAC1BC,QAAQ,GACJC,GACJP,EAAkBnB,EAASwB,cAC3BC,QAAQ,GAOV,OAJKrB,GADc,MAAnBe,EAEMO,EAAuBT,EAASU,SAEhCJ,EAAoBN,EAASU,SAEjC,wBAAIT,IAAKA,GACP,0BAAMR,UAAU,qBACbO,EAASZ,KADZ,MACqBY,EAASU,UACtB,IACR,0BAAMjB,UAAU,eACO,OAApBS,EACGnB,EAAS4B,gBAEPF,EACAT,EAASU,UACTF,QAAQ,GACVzB,EAAS4B,gBAEPL,EAAoBN,EAASU,UAC7BF,QAAQ,UAO1B,yBAAKf,UAAU,qBACb,4BACE,wBAAIA,UAAU,sBAAsBG,GAAG,cAAvC,YACA,+CAGJ,yBAAKH,UAAU,oBACb,4BACE,wBAAIA,UAAU,eAAd,SACA,4BACGV,EAAS4B,eACRxB,EAAeqB,QAAQ,OAKjC,yBAAKf,UAAU,oBAEjB,yBAAKA,UAAU,qBACb,4BAAQA,UAAU,YAAYmB,QA7M7B,SAACC,GACpB,IAAMC,EAAYC,SAASC,eAAe,aAAaC,MACjDC,EAAWH,SAASC,eAAe,YAAYC,MAC/CE,EAAcJ,SAASC,eAAe,eAAeC,MAErDG,EAAUL,SAASC,eAAe,WAAWC,MAC7CI,EAAON,SAASC,eAAe,QAAQC,MACvCK,EAAQP,SAASC,eAAe,SAASC,MACzCM,EAAOR,SAASC,eAAe,QAAQC,MACvCO,EAAQT,SAASC,eAAe,SAASC,MAC3CQ,EAAa,EACXC,EAAW7C,EAAUkB,KAAI,SAACC,EAAUC,GAExC,OADAwB,GAAczB,EAASI,MAChB,CAACR,GAAII,EAASJ,GAAIR,KAAMY,EAASZ,KAAMgB,MAAOJ,EAASI,UAE7DU,GAAaI,GAAYC,GAA0BC,GAAWC,GAAQC,GAASC,GAAQC,EACtFG,IACGC,KAAK,+BAAgC,CACtCd,UAAWA,EACXI,SAAUA,EACVC,YAAaA,EACbU,QAjBU,UAkBVT,QAASA,EACTC,KAAMA,EACNC,MAAOA,EACPC,KAAMA,EACNC,MAAOA,EACPE,SAAUA,EACVD,WAAYA,IAEbK,MAAK,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MACxBG,OAAM,SAAAC,GAAG,OAAIH,QAAQI,MAAMD,MAG9BE,MAAM,+BA2KU,mBAMR,yBAAK5C,UAAU,OACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,+BACb,yBAAKA,UAAU,+BACb,uBAAGA,UAAU,gBAEf,yBAAKA,UAAU,yBAAf,sCACqC,6BAAO,IAC1C,kBAAC,IAAD,CAAMH,GAA6B,uBAAnC","file":"static/js/18.e8735724.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, { Fragment } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport { connect } from \"react-redux\";\r\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\r\nimport { getDiscountPrice } from \"../../helpers/product\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\nimport axios from \"axios\"\r\n\r\nconst Checkout = ({ location, cartItems, currency }) => {\r\n  const { pathname } = location;\r\n  let cartTotalPrice = 0;\r\n  const postCheckout = (e) => {\r\n    const firstName = document.getElementById(\"firstname\").value;\r\n    const lastName = document.getElementById(\"lastname\").value;\r\n    const companyName = document.getElementById(\"companyName\").value;\r\n    const country = \"Morocco\";\r\n    const adresse = document.getElementById(\"adresse\").value;\r\n    const city = document.getElementById(\"city\").value;\r\n    const phone = document.getElementById(\"phone\").value;\r\n    const mail = document.getElementById(\"mail\").value;\r\n    const notes = document.getElementById(\"notes\").value;\r\n    var totalPrice = 0;\r\n    const products = cartItems.map((cartItem, key) => {\r\n      totalPrice += cartItem.price;\r\n      return {id: cartItem.id, name: cartItem.name, price: cartItem.price};\r\n    })\r\n    if(firstName && lastName && companyName && country && adresse && city && phone && mail && notes) { \r\n        axios\r\n          .post('http://localhost:5000/orders', {\r\n          firstName: firstName,\r\n          lastName: lastName,\r\n          companyName: companyName,\r\n          country: country,\r\n          adresse: adresse,\r\n          city: city,\r\n          phone: phone,\r\n          mail: mail,\r\n          notes: notes,\r\n          products: products,\r\n          totalPrice: totalPrice\r\n        })\r\n        .then(res => console.log(res))\r\n        .catch(err => console.error(err));\r\n        }\r\n    else {\r\n      alert(\"Enter all informations!!!\");\r\n    }\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <MetaTags>\r\n        <title>FSTS | Checkout</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Checkout page of FSTS react minimalist eCommerce template.\"\r\n        />\r\n      </MetaTags>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Home</BreadcrumbsItem>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n        Checkout\r\n      </BreadcrumbsItem>\r\n      <LayoutOne headerTop=\"visible\">\r\n        {/* breadcrumb */}\r\n        <Breadcrumb />\r\n        <div className=\"checkout-area pt-95 pb-100\">\r\n          <div className=\"container\">\r\n            {cartItems && cartItems.length >= 1 ? (\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-7\">\r\n                  <div className=\"billing-info-wrap\">\r\n                    <h3>Billing Details</h3>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-lg-6 col-md-6\">\r\n                        <div className=\"billing-info mb-20\">\r\n                          <label>First Name</label>\r\n                          <input type=\"text\" id=\"firstname\" />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-6 col-md-6\">\r\n                        <div className=\"billing-info mb-20\">\r\n                          <label>Last Name</label>\r\n                          <input type=\"text\" id=\"lastname\" />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-12\">\r\n                        <div className=\"billing-info mb-20\">\r\n                          <label>Company Name</label>\r\n                          <input type=\"text\" id=\"companyName\" />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-12\">\r\n                        <div className=\"billing-select mb-20\">\r\n                          <label>Country</label>\r\n                          <select>\r\n                            <option>Select a country</option>\r\n                            <option>Morocco</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-12\">\r\n                        <div className=\"billing-info mb-20\">\r\n                          <label>Street Address</label>\r\n                          <input\r\n                            className=\"billing-address\"\r\n                            placeholder=\"House number and street name\"\r\n                            type=\"text\"\r\n                            id=\"adresse\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-12\">\r\n                        <div className=\"billing-info mb-20\">\r\n                          <label>City</label>\r\n                          <input type=\"text\" id=\"city\" />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-6 col-md-6\">\r\n                        <div className=\"billing-info mb-20\">\r\n                          <label>Phone</label>\r\n                          <input type=\"text\" id=\"phone\" />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-lg-6 col-md-6\">\r\n                        <div className=\"billing-info mb-20\">\r\n                          <label>Email Address</label>\r\n                          <input type=\"text\" id=\"mail\"/>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"additional-info-wrap\">\r\n                      <h4>Additional information</h4>\r\n                      <div className=\"additional-info\">\r\n                        <label>Order notes</label>\r\n                        <textarea\r\n                          placeholder=\"Notes about your order, e.g. special notes for delivery. \"\r\n                          name=\"message\"\r\n                          defaultValue={\"\"}\r\n                          id=\"notes\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-lg-5\">\r\n                  <div className=\"your-order-area\">\r\n                    <h3>Your order</h3>\r\n                    <div className=\"your-order-wrap gray-bg-4\">\r\n                      <div className=\"your-order-product-info\">\r\n                        <div className=\"your-order-top\">\r\n                          <ul>\r\n                            <li>Product</li>\r\n                            <li>Total</li>\r\n                          </ul>\r\n                        </div>\r\n                        <div className=\"your-order-middle\">\r\n                          <ul>\r\n                            {cartItems.map((cartItem, key) => {\r\n                              const discountedPrice = getDiscountPrice(\r\n                                cartItem.price,\r\n                                cartItem.discount\r\n                              );\r\n                              const finalProductPrice = (\r\n                                cartItem.price * currency.currencyRate\r\n                              ).toFixed(2);\r\n                              const finalDiscountedPrice = (\r\n                                discountedPrice * currency.currencyRate\r\n                              ).toFixed(2);\r\n\r\n                              discountedPrice != null\r\n                                ? (cartTotalPrice +=\r\n                                    finalDiscountedPrice * cartItem.quantity)\r\n                                : (cartTotalPrice +=\r\n                                    finalProductPrice * cartItem.quantity);\r\n                              return (\r\n                                <li key={key}>\r\n                                  <span className=\"order-middle-left\">\r\n                                    {cartItem.name} X {cartItem.quantity}\r\n                                  </span>{\" \"}\r\n                                  <span className=\"order-price\">\r\n                                    {discountedPrice !== null\r\n                                      ? currency.currencySymbol +\r\n                                        (\r\n                                          finalDiscountedPrice *\r\n                                          cartItem.quantity\r\n                                        ).toFixed(2)\r\n                                      : currency.currencySymbol +\r\n                                        (\r\n                                          finalProductPrice * cartItem.quantity\r\n                                        ).toFixed(2)}\r\n                                  </span>\r\n                                </li>\r\n                              );\r\n                            })}\r\n                          </ul>\r\n                        </div>\r\n                        <div className=\"your-order-bottom\">\r\n                          <ul>\r\n                            <li className=\"your-order-shipping\" id=\"placeOrder\">Shipping</li>\r\n                            <li>Free shipping</li>\r\n                          </ul>\r\n                        </div>\r\n                        <div className=\"your-order-total\">\r\n                          <ul>\r\n                            <li className=\"order-total\">Total</li>\r\n                            <li>\r\n                              {currency.currencySymbol +\r\n                                cartTotalPrice.toFixed(2)}\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"payment-method\"></div>\r\n                    </div>\r\n                    <div className=\"place-order mt-25\">\r\n                      <button className=\"btn-hover\" onClick={postCheckout}>Place Order</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12\">\r\n                  <div className=\"item-empty-area text-center\">\r\n                    <div className=\"item-empty-area__icon mb-30\">\r\n                      <i className=\"pe-7s-cash\"></i>\r\n                    </div>\r\n                    <div className=\"item-empty-area__text\">\r\n                      No items found in cart to checkout <br />{\" \"}\r\n                      <Link to={process.env.PUBLIC_URL + \"/shop-grid-standard\"}>\r\n                        Shop Now\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </LayoutOne>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nCheckout.propTypes = {\r\n  cartItems: PropTypes.array,\r\n  currency: PropTypes.object,\r\n  location: PropTypes.object\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cartItems: state.cartData,\r\n    currency: state.currencyData\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Checkout);\r\n"],"sourceRoot":""}